
@using EShop.DataLayer.Enum
@model EShop.DataLayer.Entities.Seri.PageSeo

@{
    ViewData["Title"] = "افزودن";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@section Styles
{
	<link href="~/css/bootstrap-multiselect.css" rel="stylesheet" />
}
<div class="row">
	<div class="col-md-12">
		<div class="card">
			<div class="card-header">
				<div class="card-title-wrap bar-success">
					<h4 class="card-title mb-0">افزودن</h4>
				</div>
			</div>
			<div class="card-body">
				<div class="px-3">
					<form class="form" asp-action="Create" enctype="multipart/form-data">
						<div class="form-body">
							<div asp-validation-summary="ModelOnly" class="text-danger"></div>


							<div class="row">

								 
                                <div class="col-xl-4 col-lg-6 col-md-12 mb-1">
                                    <fieldset class="form-group">
                                        <label asp-for="TypeSystem" class="control-label"></label>
                                        <select asp-for="TypeSystem"
                                                asp-items="Html.GetEnumSelectList<EnumTypeSystem>()"
                                                class="form-control">
                                        </select>
                                        <span asp-validation-for="TypeSystem" class="text-danger"></span>
                                    </fieldset>
                                </div>
								<div class="col-xl-4 col-lg-6 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="CategoryId" class="control-label"></label>
										<select asp-for="CategoryId" asp-items="@(new SelectList(ViewBag.CategoryList, "Id", "Title"))" class="form-control ">
											<option value="">--انتخاب کنید--</option>
										</select>
										<span asp-validation-for="CategoryId" class="text-danger"></span>

									</fieldset>
								</div>
								<div class="col-xl-4 col-lg-4 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="BrandId" class="control-label"></label>
										<select asp-for="BrandId" asp-items="@(new SelectList(ViewBag.BrandList, "Id", "Title"))" class="form-control ">
											<option value="">--انتخاب کنید--</option>

										</select>
										<span asp-validation-for="BrandId" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-4 col-lg-4 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="SeriId" class="control-label"></label>
											<select asp-for="SeriId"  class="form-control ">
											<option value="">--انتخاب کنید--</option>

										</select>
											<span asp-validation-for="SeriId" class="text-danger"></span>
									</fieldset>
								</div>

								<div class="col-xl-4 col-lg-6 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="Title" class="control-label"></label>
											<input asp-for="Title" class="form-control" />
											<span asp-validation-for="Title" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-4 col-lg-6 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="EnTitle" class="control-label"></label>
										<input asp-for="EnTitle" class="form-control" />
										<span asp-validation-for="EnTitle" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="Text" class="control-label"></label>
										<textarea id="editor1" asp-for="Text" class="form-control"></textarea>

										<span asp-validation-for="Text" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="MetaTitle" class="control-label"></label>
										<textarea class="form-control" asp-for="MetaTitle" rows="3"></textarea>
										<span asp-validation-for="MetaTitle" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="MetaDescription" class="control-label"></label>
										<textarea class="form-control" asp-for="MetaDescription" rows="3"></textarea>
										<span asp-validation-for="MetaDescription" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="MetaKeywords" class="control-label"></label>
										<textarea class="form-control" asp-for="MetaKeywords" rows="3"></textarea>
										<span asp-validation-for="MetaKeywords" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="Canonical" class="control-label"></label>
										<textarea class="form-control" asp-for="Canonical" rows="3"></textarea>
										<span asp-validation-for="Canonical" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="HeaderTag" class="control-label"></label>
										<textarea class="form-control" asp-for="HeaderTag" rows="3"></textarea>
										<span asp-validation-for="HeaderTag" class="text-danger"></span>
									</fieldset>
								</div> 
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
									<fieldset class="form-group">
										<label asp-for="Schema" class="control-label"></label>
										<textarea class="form-control" asp-for="Schema" rows="3"></textarea>
										<span asp-validation-for="Schema" class="text-danger"></span>
									</fieldset>
								</div>
								<div class="col-xl-12 col-lg-12 col-md-12 mb-1">
                            									<fieldset class="form-group">
                            										<label asp-for="FAQSchema" class="control-label"></label>
                            										<textarea class="form-control" asp-for="FAQSchema" rows="3"></textarea>
                            										<span asp-validation-for="FAQSchema" class="text-danger"></span>
                            									</fieldset>
                            								</div>	
								<hr />

							</div>
						</div>
						<div class="form-actions">
							<div class="text-right">
								<button type="submit" class="btn btn-primary mr-1">
									ثبت
									<i class="ft-thumbs-up position-right"></i>
								</button>
								<a asp-action="Index" class="btn btn-warning">بازگشت به لیست</a>

							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>


@section Scripts{
	<script src="~/js/jquery.validate.min.js"></script>
	<script src="~/js/jquery.validate.unobtrusive.js"></script>



	@*<script src="~/Admin/ckeditor/ckeditor.js"></script>*@
	     <script src="~/lib/ckeditor/ckeditor.js"></script>

    <script>

		//CKEDITOR.replace('editor1', {
		//	language: 'fa',
		//	filebrowserImageUploadUrl: "/FileManager/ImageUpload",
		//	filebrowserBrowseUrl: "/FileManager/CKEditorFileManager",
		//	filebrowserWindowWidth: 1050,
		//	filebrowserWindowHeight: 1050
		//});
		

		CKEDITOR.replace('editor1');


	</script>
	
    <script type="text/javascript">
    $(document).ready(function() {
    
        var seriId = $("#SeriId").val();
        getSeries();
        $("#CategoryId").change(function() {

            getSeries();
        });
        $("#BrandId").change(function() {

            getSeries();
        });

        function getSeries() {
            var catId = $("#CategoryId").children("option:selected").val();
            var brandId = $("#BrandId").children("option:selected").val();
            var seriselect = $("#SeriId");
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetSeriesByCategoryBrandId","ProductSeri",new {area="Admin"})',
                data: {catId:catId, brandId: brandId },
                success: function(data) {
                    seriselect.children('.js-item').remove();
                    data.forEach(function(item) {
                        if (item.Id == seriId) {
                            seriselect.append($("<option selected='selected' value='" + item.Id + "' class='js-item'>" + item.Title + "</option>"));

                        } else {
                            seriselect.append($("<option value='" + item.Id + "' class='js-item'>" + item.Title + "</option>"));

                        }
                    });
                }
            });
        }
    });
    </script>
}
